<script setup>
import Header from "../components/Header.vue";
</script>

<template>
    <section class="reserva">
        <Header title="Reserva" subtitle="Reserva" />
        <div class="w-4/5 m-auto p-6 py-12">
            <p>
                Este Centro Biol√≥gico comenz√≥ a operar en el 2012. Su
                objetivo principal es mejorar la conservaci√≥n y restauraci√≥n
                de los ecosistemas de Refugio Nacional de Vida Silvestre
                Hacienda Bar√∫ y √°reas aleda√±as. Se busca promover la
                ampliaci√≥n de conocimientos cient√≠ficos sobre la vida
                silvestre y el entorno social con una visi√≥n a largo plazo
                mientras que proporciona no s√≥lo facilidades de hospedaje
                sino tambi√©n otras valiosas experiencias tanto a
                investigadores como estudiantes de materias afines.
            </p>
        </div>
        <div class="w-screen">
            <div
                class="h-fit p-6 sm:p-0 sm:h-96 bg-mission-toledo bg-cover bg-center flex flex-col justify-center items-center gap-6 sm:gap-24 sm:flex-row">
                <article
                    class="h-72 sm:w-80 p-6 sm:p-4 bg-main-blue opacity-[.85] hover:opacity-100 transition ease-in-out">
                    <h2 class="underlined-title text-white">Vision</h2>
                    <p class="text-white">
                        El RNVS se compromete con el manejo apropiado, cuidadoso
                        y disciplinado de las √°reas naturales, adem√°s se
                        implementa una visi√≥n hol√≠stica orientada a garantizar
                        la salud y la biodiversidad de sus ecosistemas, en
                        beneficio tanto de los visitantes y comunidad local.
                    </p>
                </article>
                <article
                    class="h-72 sm:w-80 p-6 sm:p-4 bg-main-green opacity-[.85] hover:opacity-100 transition ease-in-out">
                    <h2 class="underlined-title text-white">Mission</h2>
                    <p class="text-white">
                        Promover el conocimiento y la investigaci√≥n cient√≠fica
                        de calidad para el beneficio del mismo RNVS, as√≠ como de
                        otros esfuerzos de conservaci√≥n en la zona. Buscando
                        obtener un impacto positivo sobre la preservaci√≥n de los
                        ecosistemas de la regi√≥n.
                    </p>
                </article>
            </div>
        </div>
        <div class="w-screen" id="reservar">
            <div
                class="h-fit sm:px-24 py-16 bg-gradient-to-b from-main-green to-main-blue opacity-75 flex flex-col justify-center items-center">
                <h3 class="text-5xl font-serif text-white mb-6">Reservar</h3>
                <form id="reserva-form" v-if="showForm"
                    @submit.prevent="isLoading = true; submitForm()">
                    <input type="hidden" name="contact_number">
                    <div class="flex flex-col sm:flex-row gap-3">
                        <label class="block">
                            <span
                                class="block text-sm font-medium text-white">Nombre*</span>
                            <!-- Using form state modifers, the classes can be identical for every input -->
                            <input type="text" name="user_name"
                                class="mt-1 block w-full px-3 py-2 bg-white border rounded-full text-sm shadow-sm focus:outline-none focus:border-main-green border-white"
                                required />
                        </label>
                        <label class="block">
                            <span class="block text-sm font-medium text-white">Correo
                                electronico*</span>
                            <!-- Using form state modifers, the classes can be identical for every input -->
                            <input type="email" name="user_email"
                                class="mt-1 block w-full px-3 py-2 bg-white border rounded-full text-sm shadow-sm focus:outline-none focus:border-main-green border-white"
                                required />
                        </label>
                    </div>
                    <label class="block mt-3">
                        <span
                            class="block text-sm font-medium text-white">Commentarios*</span>
                        <!-- Using form state modifers, the classes can be identical for every input -->
                        <textarea cols="30" rows="10" name="message"
                            class="mt-1 block w-full px-3 py-2 bg-white border rounded-xl text-sm shadow-sm focus:outline-none focus:border-main-green border-white"
                            required></textarea>
                    </label>
                    <div class="w-full flex justify-center mt-4">
                        <input class="sm:w-1/3 w-full mx-auto transparent-pill-button"
                            type="submit"
                            :value="[!isLoading ? 'Enviar sollicitud' : 'Procesando...']">
                    </div>
                </form>
                <p class="text-xl text-white px-12 text-center">
                    {{ mailFeedback }}</p>
            </div>
        </div>
        <div class="w-screen flex flex-col sm:flex-row gap-6 p-12">
            <div class="flex flex-col flex-1">
                <p class="">
                    El Centro Biol√≥gico de Hacienda Bar√∫ brinda a sus hu√©spedes
                    hospedaje y alimentaci√≥n a precios sumamente accesibles. Es
                    una instalaci√≥n s√≥lida con un atractivo dise√±o y agradable
                    infraestructura que ofrece condiciones adecuadas para el
                    clima tropical de la zona. El centro biol√≥gico permite a los
                    estudiantes o cient√≠ficos alojarse con la comodidad y
                    seguridad necesaria mientras realizan sus investigaciones,
                    estudios o talleres.
                </p>
                <p class="">
                    Cuenta con dos edificaciones, en total ocho habitaciones con
                    capacidad m√°xima para 40 personas. Las camas en su mayor√≠a
                    son camarotes y los ba√±os estilo unisexo son amplios y
                    c√≥modos. El laboratorio y los dormitorios cuentan con
                    espaciosos corredores cubiertos que brindan protecci√≥n
                    contra la intemperie y a la vez ofrecen un espacio para
                    relajaci√≥n y encuentros.
                </p>
            </div>
            <div class="carousel flex-1 border border-solid">
                <div class="inner">
                    <div class="card" v-for="card in cards" :key="card">
                        {{ card }}
                    </div>
                </div>
                <button class="carousel-button">prev</button>
                <button class="carousel-button">next</button>
            </div>
        </div>
        <div class="w-screen flex flex-col sm:flex-row gap-6 p-12">
            <div class="flex flex-col flex-1">
                <h3 class="underlined-title text-light-grey">
                    El Centro Biol√≥gico cuenta con
                </h3>
                <ul class="ml-4 text-light-grey">
                    <li>- Un laboratorio de 392 m2</li>
                    <li>- Un aula con capacidad de 30 personas</li>
                    <li>- Un comedor para 40 personas</li>
                    <li>- Acceso a la red de senderos del RNVS</li>
                    <li>- Wifi, Parqueo y seguridad</li>
                </ul>
            </div>
            <div class="flex-1">
                <div class="mb-12">
                    <h3 class="underlined-title text-light-grey">
                        Tarifas para nacionales (2022)
                    </h3>
                    <table class="border-collapse table-auto mb-4">
                        <tbody>
                            <tr>
                                <td>Hospedaje en Dormitorio</td>
                                <td>¬¢9.200 / noche por persona</td>
                            </tr>
                            <tr>
                                <td>Hospedaje en Tienda de Campa√±a</td>
                                <td>¬¢5.200 / noche por persona</td>
                            </tr>
                            <tr>
                                <td>Cada comida</td>
                                <td>¬¢4.200 / comida por persona</td>
                            </tr>
                            <tr>
                                <td>
                                    Uso del laboratorio y senderos 1 d√≠a<br />
                                    (solo si no est√°n hospedados)
                                </td>
                                <td>¬¢50.000 / d√≠a</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Las tarifas no incluyen 13% de Impuestos.</p>
                    <p>
                        * Las tarifas est√°n v√°lidas hasta el 31 de diciembre del
                        2020. Para m√°s informaci√≥n o por descuentos para grupos
                        de m√°s de 15 personas, cont√°ctenos:
                        <a href="mailto:info@reservaeltoledo.com"
                            class="text-main-green">info@reservaeltoledo.com</a>
                    </p>
                </div>
                <div>
                    <h3 class="underlined-title text-light-grey">
                        Rates for non-Costa Ricans:
                    </h3>
                    <table class="border-collapse table-auto mb-4">
                        <tbody>
                            <tr>
                                <td>Lodging</td>
                                <td>$40.00</td>
                            </tr>
                            <tr>
                                <td>Lodging in tent</td>
                                <td>$13.00</td>
                            </tr>
                            <tr>
                                <td>Food per meal</td>
                                <td>$7.50</td>
                            </tr>
                            <tr>
                                <td>
                                    Use of Lab, classroom &amp; trails ‚Äì 1
                                    day<br />
                                    (*solo si no est√°n hospedados)
                                </td>
                                <td>$100.00</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Rates do not include 13% tax.</p>
                    <p>
                        * Rates valid through 12/31/20. For more information and
                        for group rates (over 15 people) please contact us at:
                        <a href="mailto:info@reservaeltoledo.com"
                            class="text-main-green">info@reservaeltoledo.com</a>
                    </p>
                </div>
            </div>
        </div>
    </section>
</template>

<script>
export default {
    name: "Reserva",
    components: Header,
    data() {
        return {
            cards: [1, 2, 3, 4, 5, 6, 7, 8],
            hash: this.$route.hash,
            showForm: true,
            mailFeedback: '',
            isLoading: false,
        };
    },
    mounted() {
        emailjs.init('W8Gbgq2rz3THHJx70');
        var section=this.$router.currentRoute.value.hash.replace("#", "");
        if (section)
            this.$nextTick(()=> window.document.getElementById(section).scrollIntoView());
    },
    methods: {
        submitForm() {
            const form = document.getElementById('reserva-form');
            // generate a five digit number for the contact_number variable
            form.contact_number.value = Math.random() * 100000 | 0;
            // these IDs from the previous steps
            emailjs.sendForm('service_vs5lrxl', 'contact_form', form)
                .then(() => {
                    this.showForm = false;
                    this.mailFeedback = "Gracias por su mensaje ! üòÉ Le respondemos r√°pidamente.";
                    console.log('SUCCESS!');
                })
                .catch((error) => {
                    this.mailFeedback = "Lo sentimos, hubo un problema üòû ¬°Int√©ntalo de nuevo!";
                    console.log('FAILED...', error);
                });
            this.isLoading = false;
        }
    }
};
</script>

<style lang="scss" scoped>
h2.underlined-title {
    &:after {
        top: 40px;
        background: white;
    }
}

.carousel {
    width: 170px; /* ‚ù∂ */
    overflow: hidden; /* ‚ù∑ */
}

.inner {
    white-space: nowrap; /* ‚ù∏ */
}

.card {
    width: 40px;
    margin-right: 10px;
    display: inline-flex;

    /* optional */
    height: 40px;
    background-color: #39b1bd;
    color: white;
    border-radius: 4px;
    align-items: center;
    justify-content: center;
}

/* optional */
.carousel-button {
    margin-right: 5px;
    margin-top: 10px;
}
</style>
